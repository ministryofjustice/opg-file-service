---
version: "3.6"

services:
  file_service:
    image: 311462405659.dkr.ecr.eu-west-1.amazonaws.com/file_service:latest
    build: .
    ports:
      - 8000:8000
    env_file:
      - docker-compose.env
  localstack:
    image: localstack/localstack:0.10.5
    environment:
      DEFAULT_REGION: eu-west-1
      HOSTNAME_EXTERNAL: localstack
      SERVICES: s3,dynamodb
    volumes:
      - "./scripts/localstack:/docker-entrypoint-initaws.d"
  swagger:
    image: swaggerapi/swagger-ui
    environment:
      SWAGGER_JSON: /tmp/swagger.yaml
    volumes:
      - ./swagger.yaml:/tmp/swagger.yaml
    ports:
      - 8080:8080